{% extends 'front-end/base.html' %}
{% block content %}

<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" href="{% static 'assets/images/favicon/5.png' %}" type="image/x-icon">
    <link rel="apple-touch-icon" href="{% static 'assets/images/favicon/5.png' %}">
    <meta name="theme-color" content="#df4246">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Voxo">
    <meta name="msapplication-TileImage" content="{% static 'assets/images/favicon/5.png' %}">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Voxo">
    <meta name="keywords" content="Voxo">
    <meta name="author" content="Voxo">
    <link rel="icon" href="{% static 'assets/images/favicon/5.png' %}" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/path/to/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="/path/to/bootstrap-icons.css" rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

       
    <title>Flower Store</title>

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- bootstrap css -->
    <link id="rtl-link" rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/bootstrap.css' %}">

    <!-- font-awesome css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/font-awesome.css' %}">

    <!-- feather icon css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/feather-icon.css' %}">

    <!-- animation css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/animate.css' %}">

    <!-- slick css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick/slick.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick/slick-theme.css' %}">

    <!-- Theme css -->
    <link id="color-link" rel="stylesheet" type="text/css" href="{% static 'assets/css/demo5.css' %}">

</head>

<body class="theme-color5 light ltr">

    <!-- header start -->
    
    <!-- header end -->

    <!-- mobile fix menu start -->
    <div class="mobile-menu d-sm-none">
        <ul>
            <li>
                <a href="demo3.html" class="active">
                    <i data-feather="home"></i>
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" class="toggle-category">
                    <i data-feather="align-justify"></i>
                    <span>Category</span>
                </a>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <i data-feather="shopping-bag"></i>
                    <span>Cart</span>
                </a>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <i data-feather="heart"></i>
                    <span>Wishlist</span>
                </a>
            </li>
            <li>
                <a href="user-dashboard.html">
                    <i data-feather="user"></i>
                    <span>Account</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- mobile fix menu end -->


    <!-- tshirt customise -->

   

       
        <style>
            .main-conrainer {
                display: flex;
                justify-content: center;
                margin-top: 50 px;
    
            }
    
            #preview-button {
                background: none;
                border: none;
                cursor: pointer;
                font-size: 16px;
            }
    
            .hidden {
                display: none;
            }
    
            #preview-div {
                position: absolute;
                top: 10px;
                right: 10px;
                padding: 10px;
                background-color: #fff;
                border: 1px solid #ccc;
                z-index: 999;
            }
    
            .drawing-area {
                position: absolute;
                top: 60px;
                left: 122px;
                z-index: 10;
                width: 200px;
                height: 300px;
                /* border: 1px solid #ccc; */
            }
    
            .canvas-container {
                width: 200px;
                height: 300px;
                position: relative;
                user-select: none;
            }
    
            #tshirt-div {
                width: 452px;
                height: 488px;
                position: relative;
                background-color: #fff;
            }
    
            #canvas {
                position: absolute;
                width: 200px;
                height: 300px;
                left: 0px;
                top: 0px;
                user-select: none;
                cursor: default;
            }
    
            .color-options {
                display: flex;
                align-items: center;
            }
    
            .color-option {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                cursor: pointer;
                border: 1px solid #ccc;
            }
    
            .tshirt-image {
                display: none;
                max-width: 100px;
            }
    
            /* ////dummy */
            .new-container {
                width: 35%;
                background-color: #f9f9f9;
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
    
            .new-container label {
                font-weight: bold;
            }
    
            #tshirt-design {
                width: 100%;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                background-color: #fff;
                font-size: 16px;
                outline: none;
            }
    
            .tshirt-image {
                max-width: 100px;
                margin-top: 10px;
            }
    
            .color-options {
                display: flex;
                gap: 10px;
                align-items: center;
            }
    
            .color-option {
                width: 30px;
                height: 30px;
                border-radius: 50%;
                cursor: pointer;
                transition: transform 0.2s, border 0.2s;
                border: 2px solid transparent;
            }
    
            .color-option:hover {
                transform: scale(1.1);
                border: 2px solid #ccc;
            }
    
            #add-text-section {
                display: flex;
                align-items: center;
                gap: 10px;
            }
    
            #text-input {
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                outline: none;
                flex-grow: 1;
            }
    
            #add-text-button {
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                background-color: #007bff;
                color: #fff;
                cursor: pointer;
                outline: none;
                transition: background-color 0.2s;
            }
    
            #add-text-button:hover {
                background-color: #0056b3;
            }
    
            #tshirt-custompicture {
                display: none;
            }
    
            #clear-canvas {
                float: right;
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                background-color: #dc3545;
                color: #fff;
                cursor: pointer;
                outline: none;
                transition: background-color 0.2s;
            }
    
            #clear-canvas:hover {
                background-color: #c82333;
            }
    
            #tshirt-custompicture {
                display: block;
                margin-top: 10px;
                /* Add some spacing */
            }
    
            #product-backgroundpicture {
                position: relative;
            }
            .product-image {
    
                /* margin-right: -28px; */
                margin-left: -70px;
                width: 100%;
                margin-top: 60px;
                vertical-align: middle;
                transform: scaleX(-1);
            }
            .cart{
    width: 50%;
    background-color: #dc3545; /* Default background color */
    color: #fff; /* Default text color */
    transition: background-color 0.2s, /* Smooth transition */
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #dc3545;
    color: #fff;
    cursor: pointer;
    outline: none;
    transition: background-color 0.2s;

}

.cart:hover {
    background-color: #c82333; /* Darker red background on hover */
    
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* Add shadow on hover */
}
.selector{
    width: 100%;
}
.button-group {
    display: flex; /* Display buttons inline using flexbox */
    gap: 10px; /* Add some spacing between buttons */
}
.main-conrainer {
    display: flex;
    justify-content: center;
    margin-top: 50px;
    flex-wrap: wrap; /* Allow content to wrap onto the next line */
}

/* Other styles ... */

/* Media query for screens with a width of 706px or less */
@media screen and (max-width: 706px) {
    /* Adjust t-shirt image size */
    .product-image {
        width: 90%;
        margin-top: 0;
        margin-left:0;
    }

    /* Adjust drawing area and canvas container sizes */
    .drawing-area,
    .canvas-container {
     
        height: 200px;
    }

    /* Adjust new container width and padding */
    .new-container {
        width: 100%;
        padding: 10px;
    }

    /* Adjust color option size */
    .color-options {
        flex-wrap: wrap; /* Allow color options to wrap onto the next line */
    }

    .color-option {
        width: 25px;
        height: 25px;
        margin: 5px; /* Add spacing between color options */
    }
}

        </style>
    </head>
    
    <body>
        <div class="main-conrainer">
            <div class="our-content">
                <div id="tshirt-div" class="product-div">
                    <img id="tshirt-backgroundpicture" class="product-image"
                        src="https://5.imimg.com/data5/VA/DX/MY-42356410/blank-white-mugs-500x500-500x500.png" />
                    <div id="drawingArea" class="drawing-area">
                        <div class="canvas-container">
                            <canvas id="tshirt-canvas" width="200" height="300"></canvas>
                        </div>
                    </div>
                    <!-- Other T-Shirt elements -->
                </div>
    
            </div>
            <!-- <div class="selector">
                
            </div> -->
            <div class="new-container">
               
                <div class="selector">
                    <select id="product-type">
                        <option value="mug">
                            <a href="mug.html">Mug</a>
                        </option>
                        <option value="tshirt">
                            <a href="test.html">T-Shirt</a>
                        </option>
                    </select>
                      <button id="clear-canvas" class="btn btn-danger">
                        <span class="fa fa-trash"></span> Clear Canvas
                    </button>
                </div>

    
                <!-- The select that will allow the user to pick one of the static designs -->
    
                <label for="tshirt-design">T-Shirt Design:</label>
                <select id="tshirt-design">
                    <option value="">Select one of our designs ...</option>
                    <option value="https://i.pinimg.com/originals/e8/bc/67/e8bc67ca9ad1d7300e79e43faa2f59b5.png">Avngers
                    </option>
                    <option value="https://damientgerard.files.wordpress.com/2017/05/dc_logo.png?w=730&h=730&crop=1">DC
                    </option>
                    <option value="https://www.pngarts.com/files/18/Gautama-Buddha-PNG-Image-HQ.png">Gautama Buddha</option>
                </select>
                <br>
    
                <!-- Add a Preview button with an eye symbol -->
    
    
                <!-- The Select that allows the user to change the color of the T-Shirt -->
    
                <label for="tshirt-color">Add Text</label>
                <div id="tshirt-color" class="color-options">
                    <!-- <div class="color-option" style="background-color: #fff;"></div>
                    <div class="color-option" style="background-color: #000;"></div>
                    <div class="color-option" style="background-color: #f00;"></div>
                    <div class="color-option" style="background-color: #008000;"></div>
                    <div class="color-option" style="background-color: #ff0;"></div>
                    <div class="color-option" style="background-color: #00f;"></div>
                    <div class="color-option" style="background-color: #800080;"></div>
                    <div class="color-option" style="background-color: #ffa500;"></div>
                    <div class="color-option" style="background-color: #c0c0c0;"></div>
                    <div class="color-option" style="background-color: #808080;"></div> -->
                </div>
                <div id="add-text-section">
                    <input type="text" id="text-input" placeholder="Enter text">
                    <button id="add-text-button">Add Text</button>
                </div>
                <br>
    
    
    
                
                <label for="tshirt-custompicture">Upload your own design:</label>
                <input type="file" id="tshirt-custompicture" />
                <br>
                
                <div class="button-group">
                    <button class="btn btn-danger cart">
                        <span class="fa fa-shopping-cart"></span>&nbsp; Add to Cart
                    </button>
                    <button class="btn btn-secondary wishlist"style="border-radius:5px;">
                        <span class="fa fa-heart"></span>&nbsp; Add to Wish List
                    </button>
                </div>
            </div>
    
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
        <script>
    
            let canvas = new fabric.Canvas('tshirt-canvas');
    
            function updateTshirtImage(imageURL) {
                fabric.Image.fromURL(imageURL, function (img) {
                    img.scaleToHeight(200);
                    img.scaleToWidth(200);
                    canvas.centerObject(img);
                    canvas.add(img);
                    canvas.renderAll();
                });
            }
            // Update the TShirt color according to the selected color by the user
            document.getElementById("tshirt-color").addEventListener("click", function (event) {
                const selectedColor = event.target.style.backgroundColor;
                if (selectedColor) {
                    document.getElementById("tshirt-div").style.backgroundColor = selectedColor;
                }
            }, false);
    
            // Update the TShirt design according to the selected design by the user
            document.getElementById("tshirt-design").addEventListener("change", function () {
    
                updateTshirtImage(this.value);
            }, false);
    
    
            // When the user clicks on upload a custom picture
            document.getElementById('tshirt-custompicture').addEventListener("change", function (e) {
                var reader = new FileReader();
    
                reader.onload = function (event) {
                    var imgObj = new Image();
                    imgObj.src = event.target.result;
    
                    // When the picture loads, create the image in Fabric.js
                    imgObj.onload = function () {
                        var img = new fabric.Image(imgObj);
    
                        img.scaleToHeight(200);
                        img.scaleToWidth(200);
                        canvas.centerObject(img);
                        canvas.add(img);
                        canvas.renderAll();
                    };
                };
    
                // If the user selected a picture, load it
                if (e.target.files[0]) {
                    reader.readAsDataURL(e.target.files[0]);
                }
            }, false);
    
            // When the user selects a picture that has been added and press the DEL key
            // The object will be removed !
            document.addEventListener("keydown", function (e) {
                var keyCode = e.keyCode;
    
                if (keyCode == 46) {
                    console.log("Removing selected element on Fabric.js on DELETE key !");
                    canvas.remove(canvas.getActiveObject());
                }
            }, false);
    
            // Define as node the T-Shirt Div
            var node = document.getElementById('tshirt-div');
    
            domtoimage.toPng(node).then(function (dataUrl) {
                // Print the data URL of the picture in the Console
                console.log(dataUrl);
    
                // You can for example to test, add the image at the end of the document
                var img = new Image();
                img.src = dataUrl;
                document.body.appendChild(img);
            }).catch(function (error) {
                console.error('oops, something went wrong!', error);
            });
            document.getElementById('clear-canvas').addEventListener('click', function () {
                canvas.clear();
            });
            document.getElementById("add-text-button").addEventListener("click", function () {
                const text = document.getElementById("text-input").value;
    
                if (text) {
                    const newText = new fabric.Text(text, {
                        left: 100,
                        top: 100,
                        fontSize: 20,
                        fill: "#000",
                    });
    
                    canvas.add(newText);
                    canvas.renderAll();
                }
            });
            document.getElementById("product-type").addEventListener("change", function () {
                const selectedValue = this.value;
    
                if (selectedValue === "mug") {
                    window.location.href = "/custome_mug/"; // Redirect to mug.html
                } else if (selectedValue === "tshirt") {
                    window.location.href = "/custome_tshirt/"; // Redirect to test.html
                }
            });
    
            // const lowerCanvas = document.querySelector("#tshirt-canvas").querySelector("canvas.lower-canvas");
    
    // Apply the specified styles
    // lowerCanvas.style.position = "absolute";
    // lowerCanvas.style.width = "200px";
    // lowerCanvas.style.height = "350px";
    // lowerCanvas.style.left = "0px";
    // lowerCanvas.style.top = "42px";
    // lowerCanvas.style.touchAction = "none";
    // lowerCanvas.style.userSelect = "none";
    
            // const productTypeSelect = document.getElementById("product-type");
            // const tshirtDiv = document.getElementById("tshirt-div");
            // const mugDiv = document.getElementById("mug-div");
            // const newContainer = document.querySelector(".new-container");
            // const newMugContainer = document.querySelector(".new-mug-container");
    
            // productTypeSelect.addEventListener("change", function () {
            //     const selectedProduct = this.value;
    
            //     if (selectedProduct === "tshirt") {
            //         tshirtDiv.classList.remove("hidden");
            //         mugDiv.classList.add("hidden");
            //         newContainer.classList.remove("hidden");
            //         newMugContainer.classList.add("hidden");
            //     } else if (selectedProduct === "mug") {
            //         mugDiv.classList.remove("hidden");
            //         tshirtDiv.classList.add("hidden");
            //         newContainer.classList.add("hidden");
            //         newMugContainer.classList.remove("hidden");
            //     }
            // });
        </script>
        </div>
   <br><br>
    
        <!-- footer start -->
        
        <!-- footer end -->

        {% endblock %}

        <!-- latest jquery-->
        <script src="{% static 'assets/js/jquery-3.5.1.min.js' %}"></script>

        <!-- Bootstrap js-->
        <script src="{% static 'assets/js/bootstrap/bootstrap.bundle.min.js' %}"></script>

        <!-- feather icon js-->
        <script src="{% static 'assets/js/feather/feather.min.js' %}"></script>

        <!-- lazyload js-->
        <script src="{% static 'assets/js/lazysizes.min.js' %}"></script>

        <!-- Add To Home js -->
        <script src="{% static 'assets/js/pwa.js' %}"></script>

        <!-- Timer Js -->
        <script src="{% static 'assets/js/timer1.js' %}"></script>

        <!-- Slick js-->
        <script src="{% static 'assets/js/slick/slick.js' %}"></script>
        <script src="{% static 'assets/js/slick/slick-animation.min.js' %}"></script>
        <script src="{% static 'assets/js/slick/custom_slick.js' %}"></script>

        <!-- newsletter js -->
        <script src="{% static 'assets/js/newsletter.js' %}"></script>

        <!-- add to cart modal resize -->
        <script src="{% static 'assets/js/cart_modal_resize.js' %}"></script>

        <!-- Notify js-->
        <script src="{% static 'assets/js/bootstrap/bootstrap-notify.min.js' %}"></script>

        <!-- script js -->
        <script src="{% static 'assets/js/theme-setting.js' %}"></script>
        <script src="{% static 'assets/js/script.js' %}"></script>

    </body>

    </html>